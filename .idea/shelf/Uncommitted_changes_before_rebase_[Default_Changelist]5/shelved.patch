Index: app/src/main/java/com/gthr/gthrcollect/model/network/firebaserealtimedb/ReceiptModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.gthr.gthrcollect.model.network.firebaserealtimedb\r\n\r\nimport com.google.firebase.database.PropertyName\r\nimport kotlinx.serialization.Serializable\r\n\r\ndata class ReceiptModel(\r\n    @get:PropertyName(\"refKey\")\r\n    @set:PropertyName(\"refKey\")\r\n    var refKey: String? = null,\r\n    @get:PropertyName(\"itemRefKey\")\r\n    @set:PropertyName(\"itemRefKey\")\r\n    var itemRefKey: String? = null,\r\n    @get:PropertyName(\"productType\")\r\n    @set:PropertyName(\"productType\")\r\n    var productType: String? = null,\r\n    @get:PropertyName(\"objectID\")\r\n    @set:PropertyName(\"objectID\")\r\n    var objectID: String? = null,\r\n    @get:PropertyName(\"buyerCharge\")\r\n    @set:PropertyName(\"buyerCharge\")\r\n    var buyerCharge: String? = null,\r\n    @get:PropertyName(\"sellerPayout\")\r\n    @set:PropertyName(\"sellerPayout\")\r\n    var sellerPayout: String? = null,\r\n    @get:PropertyName(\"appFee\")\r\n    @set:PropertyName(\"appFee\")\r\n    var appFee: String? = null,\r\n    @get:PropertyName(\"paymentID\")\r\n    @set:PropertyName(\"paymentID\")\r\n    var paymentID: String? = null,\r\n    @get:PropertyName(\"buyerUID\")\r\n    @set:PropertyName(\"buyerUID\")\r\n    var buyerUID: String? = null,\r\n    @get:PropertyName(\"sellerUID\")\r\n    @set:PropertyName(\"sellerUID\")\r\n    var sellerUID: String? = null,\r\n    @get:PropertyName(\"date\")\r\n    @set:PropertyName(\"date\")\r\n    var date: String? = null,\r\n    @get:PropertyName(\"saleID\")\r\n    @set:PropertyName(\"saleID\")\r\n    var saleID: String? = null,\r\n    @get:PropertyName(\"trackingNumber\")\r\n    @set:PropertyName(\"trackingNumber\")\r\n    var trackingNumber: String? = null,\r\n    @get:PropertyName(\"abbrevaitedPaymentNumber\")\r\n    @set:PropertyName(\"abbrevaitedPaymentNumber\")\r\n    var abbrevaitedPaymentNumber: String? = null,\r\n    @get:PropertyName(\"paymentProvider\")\r\n    @set:PropertyName(\"paymentProvider\")\r\n    var paymentProvider: String? = null,\r\n    @get:PropertyName(\"trackingLink\")\r\n    @set:PropertyName(\"trackingLink\")\r\n    var trackingLink: String? = null,\r\n    @get:PropertyName(\"orderStatus\")\r\n    @set:PropertyName(\"orderStatus\")\r\n    var orderStatus: String? = null,\r\n    @get:PropertyName(\"shippingTierKey\")\r\n    @set:PropertyName(\"shippingTierKey\")\r\n    var shippingTierKey: String? = null,\r\n    @get:PropertyName(\"buyerShippingName\")\r\n    @set:PropertyName(\"buyerShippingName\")\r\n    var buyerShippingName: String? = null,\r\n    @get:PropertyName(\"buyerShippingAddressLine1\")\r\n    @set:PropertyName(\"buyerShippingAddressLine1\")\r\n    var buyerShippingAddressLine1: String? = null,\r\n    @get:PropertyName(\"buyerShippingAddressLine2\")\r\n    @set:PropertyName(\"buyerShippingAddressLine2\")\r\n    var buyerShippingAddressLine2: String? = null,\r\n    @get:PropertyName(\"buyerShippingCity\")\r\n    @set:PropertyName(\"buyerShippingCity\")\r\n    var buyerShippingCity: String? = null,\r\n    @get:PropertyName(\"buyerShippingState\")\r\n    @set:PropertyName(\"buyerShippingState\")\r\n    var buyerShippingState: String? = null,\r\n    @get:PropertyName(\"buyerShippingZipCode\")\r\n    @set:PropertyName(\"buyerShippingZipCode\")\r\n    var buyerShippingZipCode: String? = null,\r\n    @get:PropertyName(\"buyerShippingCountry\")\r\n    @set:PropertyName(\"buyerShippingCountry\")\r\n    var buyerShippingCountry: String? = null,\r\n    @get:PropertyName(\"sellerShippingName\")\r\n    @set:PropertyName(\"sellerShippingName\")\r\n    var sellerShippingName: String? = null,\r\n    @get:PropertyName(\"sellerShippingAddressLine1\")\r\n    @set:PropertyName(\"sellerShippingAddressLine1\")\r\n    var sellerShippingAddressLine1: String? = null,\r\n    @get:PropertyName(\"sellerShippingAddressLine2\")\r\n    @set:PropertyName(\"sellerShippingAddressLine2\")\r\n    var sellerShippingAddressLine2: String? = null,\r\n    @get:PropertyName(\"sellerShippingCity\")\r\n    @set:PropertyName(\"sellerShippingCity\")\r\n    var sellerShippingCity: String? = null,\r\n    @get:PropertyName(\"sellerShippingState\")\r\n    @set:PropertyName(\"sellerShippingState\")\r\n    var sellerShippingState: String? = null,\r\n    @get:PropertyName(\"sellerShippingZipCode\")\r\n    @set:PropertyName(\"sellerShippingZipCode\")\r\n    var sellerShippingZipCode: String? = null,\r\n    @get:PropertyName(\"sellerShippingCountry\")\r\n    @set:PropertyName(\"sellerShippingCountry\")\r\n    var sellerShippingCountry: String? = null,\r\n    @get:PropertyName(\"edition\")\r\n    @set:PropertyName(\"edition\")\r\n    var edition: String? = null,\r\n    @get:PropertyName(\"lang\")\r\n    @set:PropertyName(\"lang\")\r\n    var lang: String? = null,\r\n    @get:PropertyName(\"condition\")\r\n    @set:PropertyName(\"condition\")\r\n    var condition: String? = null,\r\n)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/model/network/firebaserealtimedb/ReceiptModel.kt b/app/src/main/java/com/gthr/gthrcollect/model/network/firebaserealtimedb/ReceiptModel.kt
--- a/app/src/main/java/com/gthr/gthrcollect/model/network/firebaserealtimedb/ReceiptModel.kt	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/java/com/gthr/gthrcollect/model/network/firebaserealtimedb/ReceiptModel.kt	(date 1633030829765)
@@ -1,7 +1,6 @@
 package com.gthr.gthrcollect.model.network.firebaserealtimedb
 
 import com.google.firebase.database.PropertyName
-import kotlinx.serialization.Serializable
 
 data class ReceiptModel(
     @get:PropertyName("refKey")
@@ -24,7 +23,7 @@
     var sellerPayout: String? = null,
     @get:PropertyName("appFee")
     @set:PropertyName("appFee")
-    var appFee: String? = null,
+    var appFee: Double? = 0.00,
     @get:PropertyName("paymentID")
     @set:PropertyName("paymentID")
     var paymentID: String? = null,
@@ -57,7 +56,7 @@
     var orderStatus: String? = null,
     @get:PropertyName("shippingTierKey")
     @set:PropertyName("shippingTierKey")
-    var shippingTierKey: String? = null,
+    var shippingTierKey: Int? = null,
     @get:PropertyName("buyerShippingName")
     @set:PropertyName("buyerShippingName")
     var buyerShippingName: String? = null,
Index: app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/purchasedetails/PurchaseDetailsFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.gthr.gthrcollect.ui.receiptdetail.purchasedetails\r\n\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport androidx.appcompat.widget.AppCompatImageView\r\nimport androidx.appcompat.widget.LinearLayoutCompat\r\nimport androidx.constraintlayout.widget.Group\r\nimport androidx.fragment.app.activityViewModels\r\nimport androidx.navigation.fragment.navArgs\r\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder\r\nimport com.gthr.gthrcollect.GthrCollect\r\nimport com.gthr.gthrcollect.R\r\nimport com.gthr.gthrcollect.data.repository.ReceiptRepository\r\nimport com.gthr.gthrcollect.databinding.PurchaseDetailsFragmentBinding\r\nimport com.gthr.gthrcollect.model.State\r\nimport com.gthr.gthrcollect.model.domain.ReceiptDomainModel\r\nimport com.gthr.gthrcollect.ui.base.BaseFragment\r\nimport com.gthr.gthrcollect.ui.profile.ProfileActivity\r\nimport com.gthr.gthrcollect.ui.receiptdetail.ReceiptDetailViewModel\r\nimport com.gthr.gthrcollect.ui.receiptdetail.ReceiptDetailViewModelFactory\r\nimport com.gthr.gthrcollect.utils.constants.CalendarConstants\r\nimport com.gthr.gthrcollect.utils.constants.MailConstants\r\nimport com.gthr.gthrcollect.utils.customviews.CustomDeliveryButton\r\nimport com.gthr.gthrcollect.utils.customviews.CustomSecondaryButton\r\nimport com.gthr.gthrcollect.utils.enums.*\r\nimport com.gthr.gthrcollect.utils.extensions.*\r\nimport com.gthr.gthrcollect.utils.getProductCategory\r\nimport com.gthr.gthrcollect.utils.helper.*\r\nimport io.ktor.util.*\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass PurchaseDetailsFragment :\r\n    BaseFragment<ReceiptDetailViewModel, PurchaseDetailsFragmentBinding>() {\r\n\r\n    override val mViewModel: ReceiptDetailViewModel by activityViewModels {\r\n        ReceiptDetailViewModelFactory(ReceiptRepository())\r\n    }\r\n\r\n    override fun getViewBinding() = PurchaseDetailsFragmentBinding.inflate(layoutInflater)\r\n\r\n    private val args by navArgs<PurchaseDetailsFragmentArgs>()\r\n\r\n    private lateinit var mReceiptType: ReceiptType\r\n    private lateinit var mReceiptModel: ReceiptDomainModel\r\n    private lateinit var mProductCategory: ProductCategory\r\n    private lateinit var mOrderStatus: CustomDeliveryButton.OrderStatus\r\n\r\n    private lateinit var mBtnReportIssue: CustomSecondaryButton\r\n    private lateinit var mBtnConfirmReceived: CustomSecondaryButton\r\n    private lateinit var mCdbOrderStatus: CustomDeliveryButton\r\n\r\n    private lateinit var mTvUserName: TextView\r\n    private lateinit var mIvUserProfilePic: ImageView\r\n    private lateinit var mTvProductName: TextView\r\n    private lateinit var mTvSetTitle: TextView\r\n    private lateinit var mTvSetValue: TextView\r\n    private lateinit var mTvHashNumberValue: TextView\r\n    private lateinit var mTvRarityValue: TextView\r\n    private lateinit var mTvConditionValue: TextView\r\n    private lateinit var mTvCardLangValue: TextView\r\n    private lateinit var mTvCardConditionTitle: TextView\r\n    private lateinit var mTvCardConditionValue: TextView\r\n    private lateinit var mTvCardEdition: TextView\r\n\r\n    private lateinit var mTvSummaryTitle: TextView\r\n    private lateinit var mTvSummaryR1C1: TextView\r\n    private lateinit var mTvSummaryR1C2: TextView\r\n    private lateinit var mTvSummaryR2C1: TextView\r\n    private lateinit var mTvSummaryR2C2: TextView\r\n    private lateinit var mTvSummaryR3C1: TextView\r\n    private lateinit var mTvSummaryR3C2: TextView\r\n    private lateinit var mTvSummaryR4C1: TextView\r\n    private lateinit var mTvSummaryR4C2: TextView\r\n    private lateinit var mTvTotalTitle: TextView\r\n    private lateinit var mTvTotalValue: TextView\r\n    private lateinit var mTvAddressPersonName: TextView\r\n    private lateinit var mTvAddressLine1: TextView\r\n    private lateinit var mTvAddressLine2: TextView\r\n    private lateinit var mTvCityPostalCode: TextView\r\n\r\n    private lateinit var mTvPaymentTitle: TextView\r\n    private lateinit var mTvPaymentId: TextView\r\n    private lateinit var mIvPaymentLogo: ImageView\r\n    private lateinit var mTvOrderedDate: TextView\r\n\r\n    private lateinit var llNumberRarity: LinearLayoutCompat\r\n    private lateinit var llRarity: LinearLayoutCompat\r\n    private lateinit var llCondition: LinearLayoutCompat\r\n    private lateinit var llLangEdCond: LinearLayoutCompat\r\n    private lateinit var mProductImage: AppCompatImageView\r\n\r\n    private lateinit var mGroupAskFlow: Group\r\n\r\n    private val mConfirmReceivedDialog by lazy {\r\n        MaterialAlertDialogBuilder(requireContext())\r\n            .setTitle(getString(R.string.dialog_confirm_received_title))\r\n            .setMessage(getString(R.string.dialog_confirm_received_body))\r\n            .setPositiveButton(getString(R.string.dialog_btn_yes)) { dialog, _ ->\r\n                dialog.dismiss()\r\n            }\r\n            .setNegativeButton(getString(R.string.dialog_btn_no)) { dialog, _ ->\r\n                dialog.dismiss()\r\n            }\r\n            .create()\r\n    }\r\n\r\n    private val mConfirmShippedDialog by lazy {\r\n        MaterialAlertDialogBuilder(requireContext())\r\n            .setTitle(getString(R.string.dialog_confirm_shipped_title))\r\n            .setMessage(getString(R.string.dialog_confirm_shipped_body))\r\n            .setPositiveButton(getString(R.string.dialog_btn_yes)) { dialog, _ ->\r\n                dialog.dismiss()\r\n            }\r\n            .setNegativeButton(getString(R.string.dialog_btn_no)) { dialog, _ ->\r\n                dialog.dismiss()\r\n            }\r\n            .create()\r\n    }\r\n\r\n    override fun onBinding() {\r\n        mReceiptType = args.receiptType\r\n        mReceiptModel = args.receiptDomainModel\r\n        mProductCategory = getProductCategory(mReceiptModel.productType!!)!!\r\n        mOrderStatus = args.buttonType\r\n\r\n        initViews()\r\n        setUpCardTypeViews(mProductCategory, mReceiptModel)\r\n        setUpReceiptTypeViews(mReceiptType)\r\n        initClickListeners()\r\n        setUpObservers()\r\n    }\r\n\r\n    private fun initViews() {\r\n        mViewBinding.run {\r\n            mTvAddressPersonName = tvLine1\r\n            mTvAddressLine1 = tvLine2\r\n            mTvAddressLine2 = tvLine3\r\n            mTvCityPostalCode = tvLine4\r\n\r\n            mBtnReportIssue = btnReportIssue\r\n            mBtnConfirmReceived = btnConfirmReceived\r\n            mCdbOrderStatus = cdbOrderStatus\r\n\r\n            mTvUserName = tvUserName\r\n            mIvUserProfilePic = ivUserProfilePic\r\n            mTvProductName = tvTitle\r\n            mTvSetTitle = tvSet\r\n            mTvSetValue = tvSetValue\r\n            mTvHashNumberValue = tvNumberValue\r\n            mTvRarityValue = tvRarityValue\r\n            mTvConditionValue = tvConditionValue\r\n            mTvCardLangValue = tvLangValue\r\n            mTvCardConditionTitle = tvCardConditionTitle\r\n            mTvCardConditionValue = tvCardConditionValue\r\n            mTvCardEdition = tvEdition\r\n            mProductImage = ivProductImage\r\n\r\n            mTvSummaryTitle = tvPurchaseSummary\r\n            mTvSummaryR1C1 = tvSummaryR1c1\r\n            mTvSummaryR1C2 = tvSummaryR1c2\r\n            mTvSummaryR2C1 = tvSummaryR2c1\r\n            mTvSummaryR2C2 = tvSummaryR2c2\r\n            mTvSummaryR3C1 = tvSummaryR3c1\r\n            mTvSummaryR3C2 = tvSummaryR3c2\r\n            mTvSummaryR4C1 = tvSummaryR4c1\r\n            mTvSummaryR4C2 = tvSummaryR4c2\r\n            mTvTotalTitle = tvTotal\r\n            mTvTotalValue = tvTotalValue\r\n\r\n            mTvPaymentTitle = tvPayment\r\n            mTvPaymentId = tvPaymentId\r\n            mIvPaymentLogo = ivPaymentLogo\r\n            mTvOrderedDate = tvOrderedDate\r\n\r\n            this@PurchaseDetailsFragment.llNumberRarity = llNumberRarity\r\n            this@PurchaseDetailsFragment.llRarity = llRarity\r\n            this@PurchaseDetailsFragment.llCondition = llCondition\r\n            this@PurchaseDetailsFragment.llLangEdCond = llLangEdCond\r\n\r\n            mGroupAskFlow = groupAskFlow\r\n\r\n            initProgressBar(layoutProgress)\r\n        }\r\n    }\r\n\r\n    private fun initClickListeners() {\r\n\r\n        mTvUserName.setOnClickListener {\r\n            mViewModel.collectionInfoDomainModel?.let {\r\n                if(it.collectionId!=GthrCollect.prefs?.getUserCollectionId())\r\n                    startActivity(ProfileActivity.getInstance(requireContext(),ProfileNavigationType.PROFILE,it.collectionId))\r\n            }\r\n        }\r\n\r\n        mBtnReportIssue.setOnClickListener {\r\n            context?.sendMail(\r\n                emailTo = MailConstants.SUPPORT_MAIL_ID,\r\n                subject = MailConstants.SUPPORT_MAIL_SUBJECT\r\n            )\r\n        }\r\n\r\n        mBtnConfirmReceived.setOnClickListener {\r\n            when (args.receiptType) {\r\n                ReceiptType.PURCHASED ->\r\n                    if (mOrderStatus == CustomDeliveryButton.OrderStatus.ORDERED)\r\n                        activity?.finish()\r\n                    else\r\n                        mConfirmReceivedDialog.show()\r\n                ReceiptType.SOLD ->\r\n                    mConfirmShippedDialog.show()\r\n                ReceiptType.ASK_PLACED ->\r\n                    activity?.finish()\r\n            }\r\n        }\r\n        mProductImage.setOnClickListener {\r\n            startActivity(FullProductImage.getInstance(requireContext(), mViewModel.productImageUrl))\r\n        }\r\n    }\r\n\r\n    private fun setUpReceiptTypeViews(receiptType: ReceiptType) {\r\n        when (receiptType) {\r\n            ReceiptType.PURCHASED -> {\r\n                mTvSummaryTitle.text = getString(R.string.text_purchase_summary)\r\n                mTvSummaryR1C1.text = getString(R.string.text_sale_price)\r\n                mTvSummaryR1C2.text = \"$22.00\"\r\n                mTvSummaryR2C1.text = getString(R.string.text_purchase_shipping)\r\n                mTvSummaryR2C2.text = \"+ \\$2.95\"\r\n\r\n                mTvSummaryR3C1.invisible()\r\n                mTvSummaryR3C2.invisible()\r\n                mTvSummaryR4C1.gone()\r\n                mTvSummaryR4C2.gone()\r\n                mTvTotalValue.text = String.format(getString(R.string.rate_common),mReceiptModel.buyerCharge.toString().toDouble())\r\n                mTvOrderedDate.text = mReceiptModel.date?.toReceiptDate()\r\n\r\n                mTvAddressPersonName.text = mReceiptModel.buyerShippingName\r\n                mTvAddressLine1.text = mReceiptModel.buyerShippingAddressLine1\r\n                mTvAddressLine2.text = mReceiptModel.buyerShippingAddressLine2\r\n                mTvCityPostalCode.text = mReceiptModel.buyerShippingCity+\", \"+mReceiptModel.buyerShippingZipCode\r\n\r\n                if (mOrderStatus == CustomDeliveryButton.OrderStatus.ORDERED) {\r\n                    mCdbOrderStatus.setType(CustomDeliveryButton.OrderStatus.ORDERED)\r\n                    mBtnReportIssue.gone()\r\n                    mBtnConfirmReceived.text = getString(R.string.finish)\r\n                    mBtnConfirmReceived.setCompoundDrawablesWithIntrinsicBounds(\r\n                        0, 0, R.drawable.ic_next_arrow, 0\r\n                    )\r\n                } else {\r\n                    mCdbOrderStatus.setType(CustomDeliveryButton.OrderStatus.DELIVERED)\r\n                    mBtnConfirmReceived.text =\r\n                        getString(R.string.text_btn_purchase_detail_confirm_received)\r\n                }\r\n            }\r\n            ReceiptType.SOLD -> {\r\n                mTvSummaryTitle.text = getString(R.string.text_sold_summary)\r\n                mTvSummaryR1C1.text = getString(R.string.text_sale_price)\r\n                mTvSummaryR1C2.text = \"$22.00\"\r\n                mTvSummaryR2C1.text = String.format(getString(R.string.text_selling_fee), \"8.5\")\r\n                mTvSummaryR2C2.text = \"- \\$5.23\"\r\n                mTvSummaryR3C1.text = String.format(getString(R.string.text_payment_processing), \"2.9\")\r\n                mTvSummaryR3C2.text = \"- \\$1.60\"\r\n                mTvSummaryR4C1.text = getString(R.string.text_shipping_reimbursement)\r\n                mTvSummaryR4C2.text = \"+ \\$0.55\"\r\n\r\n                mTvTotalValue.text = String.format(getString(R.string.rate_common),mReceiptModel.sellerPayout.toString().toDouble())\r\n                mTvOrderedDate.text = mReceiptModel.date?.toReceiptDate()\r\n\r\n                mTvAddressPersonName.text = mReceiptModel.buyerShippingName\r\n                mTvAddressLine1.text = mReceiptModel.buyerShippingAddressLine1\r\n                mTvAddressLine2.text = mReceiptModel.buyerShippingAddressLine2\r\n                mTvCityPostalCode.text = mReceiptModel.buyerShippingCity+\", \"+mReceiptModel.buyerShippingZipCode\r\n\r\n                if (mOrderStatus == CustomDeliveryButton.OrderStatus.ASK_PLACED) {\r\n                    mCdbOrderStatus.setType(CustomDeliveryButton.OrderStatus.ASK_PLACED)\r\n                    mBtnReportIssue.gone()\r\n                    mBtnConfirmReceived.text = getString(R.string.finish)\r\n                    mBtnConfirmReceived.setCompoundDrawablesWithIntrinsicBounds(\r\n                        0, 0, R.drawable.ic_next_arrow, 0\r\n                    )\r\n                } else {\r\n                    mCdbOrderStatus.setType(CustomDeliveryButton.OrderStatus.PENDING)\r\n                    mBtnConfirmReceived.text = getString(R.string.dialog_confirm_shipped_title)\r\n                }\r\n            }\r\n            ReceiptType.ASK_PLACED -> {\r\n                mGroupAskFlow.gone()\r\n\r\n                mTvUserName.text = GthrCollect.prefs?.collectionInfoModel?.collectionDisplayName\r\n                mIvUserProfilePic.setProfileImage(GthrCollect.prefs?.collectionInfoModel?.profileImage.toString())\r\n\r\n                mTvSummaryTitle.text = getString(R.string.text_ask_summary)\r\n                mTvSummaryR1C1.text = getString(R.string.text_sale_price)\r\n                mTvSummaryR1C2.text = String.format(getString(R.string.rate_common), mReceiptModel.totalAskPrice)\r\n                mTvSummaryR2C1.text = getString(R.string.text_selling_fee_8_5_ask_flow)\r\n                mTvSummaryR2C2.text = String.format(\r\n                    getString(R.string.rate_negative),\r\n                    mReceiptModel.totalAskPrice.getSellingFee()\r\n                )\r\n                mTvSummaryR3C1.text = getString(R.string.text_payment_processing_2_9_ask_flow)\r\n                mTvSummaryR3C2.text = String.format(\r\n                    getString(R.string.rate_negative),\r\n                    mReceiptModel.totalAskPrice.getPaymentProcessing()\r\n                )\r\n                mTvSummaryR4C1.text = getString(R.string.text_shipping_reimbursement)\r\n                mTvSummaryR4C2.text = String.format(\r\n                    getString(R.string.rate_positive),\r\n                    mReceiptModel.shippingReimbursement ?: 0.0\r\n                )\r\n                mTvTotalTitle.text = getString(R.string.text_total_payout_usd)\r\n\r\n                val totalPayout = (mReceiptModel.totalAskPrice ?: 0.0) -\r\n                        mReceiptModel.totalAskPrice.getSellingFee() -\r\n                        mReceiptModel.totalAskPrice.getPaymentProcessing() +\r\n                        (mReceiptModel.shippingReimbursement ?: 0.0)\r\n                mTvTotalValue.text = String.format(getString(R.string.rate_common), totalPayout)\r\n\r\n                mViewModel.setProductImage(mReceiptModel.imageUrl.toString())\r\n                mProductImage.setImage(mReceiptModel.imageUrl.toString())\r\n                mTvPaymentTitle.text = getString(R.string.text_payout)\r\n                mTvPaymentId.text = GthrCollect.prefs?.userInfoModel?.emailId.toString()\r\n                mIvPaymentLogo.gone()\r\n                mTvOrderedDate.text = SimpleDateFormat(\r\n                    CalendarConstants\r\n                        .MONTH_DATE_YEAR, Locale.getDefault()\r\n                ).format(Calendar.getInstance().time)\r\n\r\n                mCdbOrderStatus.setType(CustomDeliveryButton.OrderStatus.ASK_PLACED)\r\n                mBtnReportIssue.gone()\r\n                mBtnConfirmReceived.text = getString(R.string.finish)\r\n                mBtnConfirmReceived.setCompoundDrawablesWithIntrinsicBounds(\r\n                    0, 0, R.drawable.ic_next_arrow, 0\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun setUpCardTypeViews(type: ProductCategory, receiptDomainModel: ReceiptDomainModel) {\r\n        when (type) {\r\n            ProductCategory.CARDS -> {\r\n                llCondition.gone()\r\n                mTvCardLangValue.text = when (receiptDomainModel.productType) {\r\n                    ProductType.POKEMON -> getPokemonLanguageDomainModel(\r\n                        receiptDomainModel.lang ?: 0\r\n                    ).abbreviatedName\r\n                    ProductType.MAGIC_THE_GATHERING -> getMTGLanguage(\r\n                        receiptDomainModel.lang ?: 0\r\n                    ).abbreviatedName\r\n                    /*ProductType.YUGIOH*/else -> getYugiohLanguageDomainModel(\r\n                        receiptDomainModel.lang ?: 0\r\n                    ).abbreviatedName\r\n                }\r\n                val condition = getConditionFromDisplayName(receiptDomainModel.condition.toString())\r\n                mTvCardConditionTitle.text =\r\n                    if (condition.type == ConditionType.UG) getString(R.string.raw) else condition.type.title.toUpperCase()\r\n                mTvCardConditionValue.text = condition.abbreviatedName\r\n                mTvCardEdition.text = receiptDomainModel.edition\r\n            }\r\n            ProductCategory.SEALED -> {\r\n                llNumberRarity.gone()\r\n                llLangEdCond.gone()\r\n            }\r\n            ProductCategory.TOYS -> {   //Funko\r\n                llRarity.gone()\r\n                llLangEdCond.gone()\r\n                mTvSetTitle.text = getString(R.string.text_product_license) //Set License Text\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun setUpObservers() {\r\n\r\n        mViewModel.mCollectionInfoDomainModel.observe(viewLifecycleOwner){\r\n            it.contentIfNotHandled?.let {\r\n                when (it) {\r\n                    is State.Failed -> {\r\n                        showProgressBar(false)\r\n                    }\r\n                    is State.Loading -> {\r\n                        showProgressBar()\r\n                    }\r\n                    is State.Success -> {\r\n                        showProgressBar(false)\r\n                        mViewModel.setCollectionInfoDomainModel(it.data)\r\n                        mTvUserName.text = it.data.collectionDisplayName\r\n                        it.data.profileImage?.let {\r\n                            mIvUserProfilePic.setProfileImage(it)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        mViewModel.productDetailModel.observe(viewLifecycleOwner, {\r\n            it.contentIfNotHandled?.let {\r\n                when (it) {\r\n                    is State.Failed -> {\r\n                        showProgressBar(false)\r\n                    }\r\n                    is State.Loading -> {\r\n                        showProgressBar()\r\n                    }\r\n                    is State.Success -> {\r\n                        showProgressBar(false)\r\n                        if (mReceiptType != ReceiptType.ASK_PLACED)\r\n                            mViewModel.getCollectionInfo(mReceiptModel.sellerUID!!)\r\n\r\n                        it.data?.let {\r\n                            it.firImageURL?.let {\r\n                                mProductImage.setProductImage(it)\r\n                                mViewModel.setProductImage(it)\r\n                            }\r\n                            mTvProductName.text = it.name\r\n                            when (it.productType) {\r\n                                ProductType.MAGIC_THE_GATHERING,\r\n                                ProductType.YUGIOH,\r\n                                ProductType.POKEMON -> {\r\n                                    mTvSetValue.text = it.description\r\n                                    mTvHashNumberValue.text = it.productNumber\r\n                                    mTvRarityValue.text = it.rarity\r\n                                }\r\n                                ProductType.FUNKO -> {\r\n                                    mTvSetValue.text = it.description\r\n                                    mTvHashNumberValue.text = it.productNumber\r\n                                }\r\n                                ProductType.SEALED_POKEMON,\r\n                                ProductType.SEALED_YUGIOH,\r\n                                ProductType.SEALED_MTG -> {\r\n                                    mTvSetValue.text = it.description\r\n                                }\r\n                                null -> {\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/purchasedetails/PurchaseDetailsFragment.kt b/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/purchasedetails/PurchaseDetailsFragment.kt
--- a/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/purchasedetails/PurchaseDetailsFragment.kt	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/purchasedetails/PurchaseDetailsFragment.kt	(date 1633030829767)
@@ -29,6 +29,9 @@
 import io.ktor.util.*
 import java.text.SimpleDateFormat
 import java.util.*
+import android.content.Intent
+import android.net.Uri
+
 
 class PurchaseDetailsFragment :
     BaseFragment<ReceiptDetailViewModel, PurchaseDetailsFragmentBinding>() {
@@ -83,6 +86,8 @@
     private lateinit var mTvPaymentId: TextView
     private lateinit var mIvPaymentLogo: ImageView
     private lateinit var mTvOrderedDate: TextView
+    private lateinit var mTvTrackPackage: TextView
+    private lateinit var mTvOrderId: TextView
 
     private lateinit var llNumberRarity: LinearLayoutCompat
     private lateinit var llRarity: LinearLayoutCompat
@@ -172,6 +177,8 @@
             mTvPaymentId = tvPaymentId
             mIvPaymentLogo = ivPaymentLogo
             mTvOrderedDate = tvOrderedDate
+            mTvTrackPackage = tvTrackPackage
+            mTvOrderId = tvOrderId
 
             this@PurchaseDetailsFragment.llNumberRarity = llNumberRarity
             this@PurchaseDetailsFragment.llRarity = llRarity
@@ -193,6 +200,13 @@
             }
         }
 
+        mTvTrackPackage.setOnClickListener{
+            val url = "${mViewModel.receiptModel?.trackingLink}"
+            val i = Intent(Intent.ACTION_VIEW)
+            i.data = Uri.parse(url)
+            startActivity(i)
+        }
+
         mBtnReportIssue.setOnClickListener {
             context?.sendMail(
                 emailTo = MailConstants.SUPPORT_MAIL_ID,
@@ -221,11 +235,14 @@
     private fun setUpReceiptTypeViews(receiptType: ReceiptType) {
         when (receiptType) {
             ReceiptType.PURCHASED -> {
+
+                mTvOrderId.text=mViewModel.receiptModel?.trackingNumber ?: "-"
+                mViewModel.getShippingTierInfo(mReceiptModel.shippingTierKey.toString())
                 mTvSummaryTitle.text = getString(R.string.text_purchase_summary)
                 mTvSummaryR1C1.text = getString(R.string.text_sale_price)
-                mTvSummaryR1C2.text = "$22.00"
+                mTvSummaryR1C2.text = "$--"
                 mTvSummaryR2C1.text = getString(R.string.text_purchase_shipping)
-                mTvSummaryR2C2.text = "+ \$2.95"
+                mTvSummaryR2C2.text = "+ \$--"
 
                 mTvSummaryR3C1.invisible()
                 mTvSummaryR3C2.invisible()
@@ -253,15 +270,18 @@
                 }
             }
             ReceiptType.SOLD -> {
+                mViewModel.getShippingTierInfo(mReceiptModel.shippingTierKey.toString())
+
+                mTvOrderId.text=mViewModel.receiptModel?.trackingNumber ?: "-"
                 mTvSummaryTitle.text = getString(R.string.text_sold_summary)
                 mTvSummaryR1C1.text = getString(R.string.text_sale_price)
-                mTvSummaryR1C2.text = "$22.00"
+                mTvSummaryR1C2.text = "$--"
                 mTvSummaryR2C1.text = String.format(getString(R.string.text_selling_fee), "8.5")
-                mTvSummaryR2C2.text = "- \$5.23"
+                mTvSummaryR2C2.text = "- \$--"
                 mTvSummaryR3C1.text = String.format(getString(R.string.text_payment_processing), "2.9")
-                mTvSummaryR3C2.text = "- \$1.60"
+                mTvSummaryR3C2.text = "- \$--"
                 mTvSummaryR4C1.text = getString(R.string.text_shipping_reimbursement)
-                mTvSummaryR4C2.text = "+ \$0.55"
+                mTvSummaryR4C2.text = "+ \$--"
 
                 mTvTotalValue.text = String.format(getString(R.string.rate_common),mReceiptModel.sellerPayout.toString().toDouble())
                 mTvOrderedDate.text = mReceiptModel.date?.toReceiptDate()
@@ -436,5 +456,30 @@
                 }
             }
         })
+
+        mViewModel.shippingTierInfo.observe(viewLifecycleOwner){
+            it.contentIfNotHandled?.let {
+                when (it) {
+                    is State.Failed -> {
+                        showProgressBar(false)
+                    }
+                    is State.Loading -> {
+                        showProgressBar()
+                    }
+                    is State.Success -> {
+                        showProgressBar(false)
+
+                        if (mReceiptType==ReceiptType.PURCHASED){
+                            mTvSummaryR2C2.text= String.format(getString(R.string.rate_positive),it.data.frontEndShippingProcessing.toDouble())
+                            val salePrice= (mReceiptModel.buyerCharge?.toDouble()?: 0.0) - (it.data.frontEndShippingProcessing.toDouble())
+                            mTvSummaryR1C2.text= String.format(getString(R.string.rate_common),salePrice)
+
+                        }
+
+                    }
+                }
+            }
+        }
+
     }
 }
\ No newline at end of file
Index: app/src/main/java/com/gthr/gthrcollect/data/repository/ReceiptRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.gthr.gthrcollect.data.repository\r\n\r\nimport com.google.firebase.database.ktx.database\r\nimport com.google.firebase.firestore.ktx.firestore\r\nimport com.google.firebase.ktx.Firebase\r\nimport com.gthr.gthrcollect.model.State\r\nimport com.gthr.gthrcollect.model.domain.*\r\nimport com.gthr.gthrcollect.model.mapper.*\r\nimport com.gthr.gthrcollect.model.network.firebaserealtimedb.*\r\nimport com.gthr.gthrcollect.utils.constants.FirebaseRealtimeDatabase\r\nimport com.gthr.gthrcollect.utils.constants.Firestore\r\nimport com.gthr.gthrcollect.utils.enums.ProductType\r\nimport com.gthr.gthrcollect.utils.helper.getDomainModelFromNetworkModel\r\nimport com.gthr.gthrcollect.utils.helper.getFbRtModelNameFromProduct\r\nimport com.gthr.gthrcollect.utils.helper.getModelTypeFromProduct\r\nimport com.gthr.gthrcollect.utils.logger.GthrLogger\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.flow.catch\r\nimport kotlinx.coroutines.flow.flow\r\nimport kotlinx.coroutines.flow.flowOn\r\nimport kotlinx.coroutines.tasks.await\r\n\r\nclass ReceiptRepository {\r\n\r\n    private val mFirebaseRD = Firebase.database.reference\r\n    private val mFirestore = Firebase.firestore\r\n\r\n    fun fetchProductDetail(productType: ProductType, objectID: String) = flow<State<ProductDisplayModel?>> {\r\n            // Emit loading state\r\n            emit(State.loading())\r\n\r\n            val fbRtModelName = getFbRtModelNameFromProduct(productType)\r\n            val modelType = getModelTypeFromProduct(productType)\r\n            val snapShot = mFirebaseRD.child(fbRtModelName).orderByChild(FirebaseRealtimeDatabase.OBJECT_ID).equalTo(objectID).get().await().children.first()\r\n            val networkData = snapShot.getValue(modelType)\r\n\r\n            try {\r\n                val data = when (productType) {\r\n                    ProductType.MAGIC_THE_GATHERING ->\r\n                        ProductDisplayModel(\r\n                            getDomainModelFromNetworkModel<MTGDomainModel>(\r\n                                productType,\r\n                                snapShot.key!!,\r\n                                networkData!!\r\n                            )\r\n                        )\r\n                    ProductType.YUGIOH ->\r\n                        ProductDisplayModel(\r\n                            getDomainModelFromNetworkModel<YugiohDomainModel>(\r\n                                productType,\r\n                                snapShot.key!!,\r\n                                networkData!!\r\n                            )\r\n                        )\r\n                    ProductType.POKEMON ->\r\n                        ProductDisplayModel(\r\n                            getDomainModelFromNetworkModel<PokemonDomainModel>(\r\n                                productType,\r\n                                snapShot.key!!,\r\n                                networkData!!\r\n                            )\r\n                        )\r\n                    ProductType.FUNKO ->\r\n                        ProductDisplayModel(\r\n                            getDomainModelFromNetworkModel<FunkoDomainModel>(\r\n                                productType,\r\n                                snapShot.key!!,\r\n                                networkData!!\r\n                            )\r\n                        )\r\n                    ProductType.SEALED_POKEMON,\r\n                    ProductType.SEALED_YUGIOH,\r\n                    ProductType.SEALED_MTG ->\r\n                        ProductDisplayModel(\r\n                            getDomainModelFromNetworkModel<SealedDomainModel>(\r\n                                productType,\r\n                                snapShot.key!!,\r\n                                networkData!!\r\n                            )\r\n                        )\r\n                }\r\n                emit(State.success(data))\r\n            } catch (e: Exception) {\r\n                emit(State.success(null))\r\n            }\r\n        }.catch {\r\n            // If exception is thrown, emit failed state along with message.\r\n            emit(State.failed(it.message.toString()))\r\n        }.flowOn(Dispatchers.IO)\r\n\r\n\r\n    fun fetchAllReceipts(userId : String) = flow<State<List<ReceiptDisplayModel>>> {\r\n        emit(State.loading())\r\n        val allReceiptList = mutableListOf<ReceiptDisplayModel>()\r\n        allReceiptList.addAll(getReceiptsItems(userId, true))\r\n        allReceiptList.addAll(getReceiptsItems(userId, false))\r\n        emit(State.success(allReceiptList))\r\n    }.catch {\r\n        // If exception is thrown, emit failed state along with message.\r\n        emit(State.failed(it.message.toString()))\r\n    }.flowOn(Dispatchers.IO)\r\n\r\n\r\n    fun fetchSaleReceipts(userId : String) = flow<State<List<ReceiptDisplayModel>>> {\r\n        emit(State.loading())\r\n        val allReceiptList = mutableListOf<ReceiptDisplayModel>()\r\n        allReceiptList.addAll(getReceiptsItems(userId, true))\r\n        emit(State.success(allReceiptList))\r\n    }.catch {\r\n        // If exception is thrown, emit failed state along with message.\r\n        emit(State.failed(it.message.toString()))\r\n    }.flowOn(Dispatchers.IO)\r\n\r\n    fun fetchBuyReceipts(userId : String) = flow<State<List<ReceiptDisplayModel>>> {\r\n        emit(State.loading())\r\n        val allReceiptList = mutableListOf<ReceiptDisplayModel>()\r\n        allReceiptList.addAll(getReceiptsItems(userId, false))\r\n        emit(State.success(allReceiptList))\r\n    }.catch {\r\n        // If exception is thrown, emit failed state along with message.\r\n        emit(State.failed(it.message.toString()))\r\n    }.flowOn(Dispatchers.IO)\r\n\r\n    private suspend fun getReceiptsItems(userId : String, isSell : Boolean) : List<ReceiptDisplayModel>{\r\n        val orderBy = if(isSell) FirebaseRealtimeDatabase.SELLER_UID else FirebaseRealtimeDatabase.BUYER_UID\r\n        val snapShot = mFirebaseRD.child(FirebaseRealtimeDatabase.RECIEPT_MODEL).orderByChild(orderBy).equalTo(userId).get().await()\r\n        GthrLogger.i(\"jdbcjsd\",\"snapShot $snapShot\")\r\n        val list = mutableListOf<ReceiptDisplayModel>()\r\n\r\n        if(snapShot.hasChildren()){\r\n            snapShot.children.forEach {\r\n                val receipt = it.getValue(ReceiptModel::class.java)\r\n                val receiptDomainModel = receipt?.toReceiptDomainModel(it.key!!)\r\n\r\n                if(receipt?.saleID != null){\r\n                    val saleHistoryDomainModel = getSaleHistory(receipt?.saleID!!)\r\n\r\n                    val objectID = receiptDomainModel?.objectID\r\n                    val productType = receiptDomainModel?.productType\r\n\r\n                    if(objectID!=null&&productType!=null){\r\n                        val productDisplayModel = when (productType) {\r\n                            ProductType.MAGIC_THE_GATHERING -> {\r\n                                val data = getProductDetailsByObjectId<MTGDomainModel>(objectID!!, productType)\r\n                                ProductDisplayModel(data!!)\r\n                            }\r\n                            ProductType.YUGIOH -> {\r\n                                val data = getProductDetailsByObjectId<YugiohDomainModel>(objectID!!, productType)\r\n                                ProductDisplayModel(data!!)\r\n                            }\r\n                            ProductType.POKEMON -> {\r\n                                val data = getProductDetailsByObjectId<PokemonDomainModel>(objectID!!, productType)\r\n                                ProductDisplayModel(data!!)\r\n                            }\r\n                            ProductType.FUNKO -> {\r\n                                val data = getProductDetailsByObjectId<FunkoDomainModel>(objectID!!, productType)\r\n                                ProductDisplayModel(data!!)\r\n                            }\r\n                            ProductType.SEALED_POKEMON, ProductType.SEALED_YUGIOH, ProductType.SEALED_MTG -> {\r\n                                val data = getProductDetailsByObjectId<SealedDomainModel>(objectID!!, productType)\r\n                                ProductDisplayModel(data!!)\r\n                            }\r\n                            else -> null\r\n                        }\r\n                        GthrLogger.i(\"sdcsdnc\",\"productDisplayModel ${productDisplayModel?.productType}\")\r\n                        GthrLogger.i(\"sdcsdnc\",\"productDisplayModel ${productDisplayModel?.refKey}\")\r\n                        GthrLogger.i(\"jdbcjsd\",\"receiptDomainModel $receiptDomainModel\")\r\n                        GthrLogger.i(\"jdbcjsd\",\"productDisplayModel $productDisplayModel\")\r\n                        GthrLogger.i(\"jdbcjsd\",\"saleHistoryDomainModel $saleHistoryDomainModel\")\r\n                        if(receiptDomainModel!=null&&productDisplayModel!=null&&saleHistoryDomainModel!=null){\r\n                            val receiptDisplayDomainModel = ReceiptDisplayModel(receiptDomainModel,productDisplayModel,saleHistoryDomainModel)\r\n                            GthrLogger.i(\"jdbcjsd\",\"receiptDisplayDomainModel $receiptDisplayDomainModel\")\r\n                            list.add(receiptDisplayDomainModel)\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return list\r\n    }\r\n\r\n    private suspend fun getSaleHistory(saleRef : String): SaleHistoryDomainModel?{\r\n        val await = mFirebaseRD.child(FirebaseRealtimeDatabase.SALE_HISTORY_MODEL).child(saleRef).get().await()\r\n        return await.getValue(SaleHistoryModel::class.java)?.toSaleHistoryDomainModel()\r\n    }\r\n\r\n    private suspend fun <T> getProductDetailsByObjectId(id: String, type: ProductType): T? {\r\n        var ref = mFirebaseRD\r\n        val networkModelType = when (type) {\r\n            ProductType.MAGIC_THE_GATHERING -> {\r\n                ref = ref.child(FirebaseRealtimeDatabase.MTG_MODEL)\r\n                MTGModel::class.java\r\n            }\r\n            ProductType.YUGIOH -> {\r\n                ref = ref.child(FirebaseRealtimeDatabase.YUGIOH_MODEL)\r\n                YugiohModel::class.java\r\n            }\r\n            ProductType.POKEMON -> {\r\n                ref = ref.child(FirebaseRealtimeDatabase.POKEMON_MODEL)\r\n                PokemonModel::class.java\r\n            }\r\n            ProductType.FUNKO -> {\r\n                ref = ref.child(FirebaseRealtimeDatabase.FUNKO_MODEL)\r\n                FunkoModel::class.java\r\n            }\r\n            ProductType.SEALED_POKEMON, ProductType.SEALED_YUGIOH, ProductType.SEALED_MTG -> {\r\n                ref = ref.child(FirebaseRealtimeDatabase.SEALED_MODEL)\r\n                SealedModel::class.java\r\n            }\r\n        }\r\n        val await = ref.orderByChild(FirebaseRealtimeDatabase.OBJECT_ID).equalTo(id).get().await()\r\n\r\n        if (await.childrenCount == 1L) {\r\n            val snapShot = await.children.iterator().next()\r\n            val productDetailsNetworkModel = snapShot.getValue(networkModelType)\r\n            val productDetailsDomainModel = when (type) {\r\n                ProductType.MAGIC_THE_GATHERING -> (productDetailsNetworkModel as MTGModel).toMTGDomainModel(\r\n                    snapShot.key ?: \"\"\r\n                )\r\n                ProductType.YUGIOH -> (productDetailsNetworkModel as YugiohModel).toYugiohDomainModel(\r\n                    snapShot.key ?: \"\"\r\n                )\r\n                ProductType.POKEMON -> (productDetailsNetworkModel as PokemonModel).toPokemonDomainModel(\r\n                    snapShot.key ?: \"\"\r\n                )\r\n                ProductType.FUNKO -> (productDetailsNetworkModel as FunkoModel).toFunkoDomainModel(\r\n                    snapShot.key ?: \"\"\r\n                )\r\n                ProductType.SEALED_POKEMON, ProductType.SEALED_YUGIOH, ProductType.SEALED_MTG -> (productDetailsNetworkModel as SealedModel).toSealedDomainModel(\r\n                    snapShot.key ?: \"\"\r\n                )\r\n            }\r\n            return productDetailsDomainModel as T\r\n        }\r\n        return null\r\n    }\r\n\r\n    fun getCollectionInfo(userID : String) =\r\n        flow<State<CollectionInfoDomainModel>> {\r\n            emit(State.loading())\r\n            val data = mFirestore.collection(Firestore.COLLECTION_USER_INFO).document(userID).get().await()\r\n            val collectionId = data.data?.get(Firestore.COLLECTION_ID).toString()\r\n            val collectionInfo = mFirebaseRD.child(FirebaseRealtimeDatabase.COLLECTION_INFO_MODEL).child(collectionId).get().await().getValue(CollectionInfoModel::class.java)\r\n            emit(State.Success(collectionInfo?.toCollectionInfoDomainModel(collectionId)!!))\r\n        }.catch {\r\n            // If exception is thrown, emit failed state along with message.\r\n            emit(State.failed(it.message.toString()))\r\n        }.flowOn(Dispatchers.IO)\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/data/repository/ReceiptRepository.kt b/app/src/main/java/com/gthr/gthrcollect/data/repository/ReceiptRepository.kt
--- a/app/src/main/java/com/gthr/gthrcollect/data/repository/ReceiptRepository.kt	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/java/com/gthr/gthrcollect/data/repository/ReceiptRepository.kt	(date 1633030829764)
@@ -250,5 +250,19 @@
         }.flowOn(Dispatchers.IO)
 
 
+    fun getShippingTierInfo(tier: String) = flow<State<ShippingInfoDomainModel>> {
+        emit(State.loading())
+
+        val tierData =
+            mFirebaseRD.child(FirebaseRealtimeDatabase.SHIPPING_TIER).child(tier).get().await()
+        val data = (tierData.getValue(ShippingInfoModel::class.java)
+            ?: ShippingInfoModel()).toDomainModel()
+
+        emit(State.Success(data))
+    }.catch {
+        // If exception is thrown, emit failed state along with message.
+        emit(State.failed(it.message.toString()))
+    }.flowOn(Dispatchers.IO)
+
 
 }
\ No newline at end of file
Index: app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/ReceiptDetailViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.gthr.gthrcollect.ui.receiptdetail\r\n\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.lifecycle.MutableLiveData\r\nimport androidx.lifecycle.viewModelScope\r\nimport com.algolia.search.model.ObjectID\r\nimport com.gthr.gthrcollect.data.repository.ReceiptRepository\r\nimport com.gthr.gthrcollect.model.Event\r\nimport com.gthr.gthrcollect.model.State\r\nimport com.gthr.gthrcollect.model.domain.CollectionInfoDomainModel\r\nimport com.gthr.gthrcollect.model.domain.ProductDisplayModel\r\nimport com.gthr.gthrcollect.model.domain.ReceiptDomainModel\r\nimport com.gthr.gthrcollect.ui.base.BaseViewModel\r\nimport com.gthr.gthrcollect.utils.enums.ProductType\r\nimport kotlinx.coroutines.Job\r\nimport kotlinx.coroutines.flow.collect\r\nimport kotlinx.coroutines.launch\r\n\r\nclass ReceiptDetailViewModel(private val repository: ReceiptRepository) : BaseViewModel() {\r\n\r\n    var mProductDetailJob: Job? = null\r\n\r\n    var receiptModel: ReceiptDomainModel? = null\r\n        private set\r\n\r\n    var productImageUrl: String? = null\r\n        private set\r\n\r\n    fun setReceiptModel(receiptDomainModel: ReceiptDomainModel) {\r\n        receiptModel = receiptDomainModel\r\n    }\r\n\r\n    fun setProductImage(url: String) {\r\n        productImageUrl = url\r\n    }\r\n\r\n    private val _productDetailModel = MutableLiveData<Event<State<ProductDisplayModel?>>>()\r\n    val productDetailModel: LiveData<Event<State<ProductDisplayModel?>>>\r\n        get() = _productDetailModel\r\n\r\n    fun getProductDetailData(productType: ProductType, objectID: String) {\r\n        mProductDetailJob?.cancel()\r\n        mProductDetailJob = viewModelScope.launch {\r\n            repository.fetchProductDetail(productType, objectID).collect {\r\n                _productDetailModel.value = Event(it)\r\n            }\r\n        }\r\n    }\r\n\r\n    var collectionInfoDomainModel: CollectionInfoDomainModel? = null\r\n        private set\r\n\r\n    fun setCollectionInfoDomainModel(model: CollectionInfoDomainModel){\r\n        collectionInfoDomainModel = model\r\n    }\r\n\r\n    private val _mCollectionInfoDomainModel = MutableLiveData<Event<State<CollectionInfoDomainModel>>>()\r\n    val mCollectionInfoDomainModel: LiveData<Event<State<CollectionInfoDomainModel>>>\r\n        get() = _mCollectionInfoDomainModel\r\n\r\n    fun getCollectionInfo(userID : String){\r\n        viewModelScope.launch {\r\n            repository.getCollectionInfo(userID).collect {\r\n                _mCollectionInfoDomainModel.value = Event(it)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    override fun onCleared() {\r\n        super.onCleared()\r\n        mProductDetailJob?.cancel()\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/ReceiptDetailViewModel.kt b/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/ReceiptDetailViewModel.kt
--- a/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/ReceiptDetailViewModel.kt	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/java/com/gthr/gthrcollect/ui/receiptdetail/ReceiptDetailViewModel.kt	(date 1633030829766)
@@ -10,6 +10,7 @@
 import com.gthr.gthrcollect.model.domain.CollectionInfoDomainModel
 import com.gthr.gthrcollect.model.domain.ProductDisplayModel
 import com.gthr.gthrcollect.model.domain.ReceiptDomainModel
+import com.gthr.gthrcollect.model.domain.ShippingInfoDomainModel
 import com.gthr.gthrcollect.ui.base.BaseViewModel
 import com.gthr.gthrcollect.utils.enums.ProductType
 import kotlinx.coroutines.Job
@@ -18,6 +19,7 @@
 
 class ReceiptDetailViewModel(private val repository: ReceiptRepository) : BaseViewModel() {
 
+    var shippingTierJob: Job? = null
     var mProductDetailJob: Job? = null
 
     var receiptModel: ReceiptDomainModel? = null
@@ -66,10 +68,23 @@
         }
     }
 
+    private val _shippingTierInfo = MutableLiveData<Event<State<ShippingInfoDomainModel>>>()
+    val shippingTierInfo: LiveData<Event<State<ShippingInfoDomainModel>>>
+        get() = _shippingTierInfo
+
+    fun getShippingTierInfo(tier: String) {
+        shippingTierJob?.cancel()
+        shippingTierJob = viewModelScope.launch {
+            repository.getShippingTierInfo(tier).collect {
+                _shippingTierInfo.value = Event(it)
+            }
+        }
+    }
 
 
     override fun onCleared() {
         super.onCleared()
+        shippingTierJob?.cancel()
         mProductDetailJob?.cancel()
     }
 }
\ No newline at end of file
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">Gthr</string>\r\n    <string name=\"app_name_lowercase\">gthr</string>\r\n    <string name=\"app_name_subtitle\">The Only Place For Your Collection</string>\r\n    <string name=\"email_address\">Email Address</string>\r\n    <string name=\"password\">Password</string>\r\n    <string name=\"birth_day_dialog_title\">Select date</string>\r\n    <string name=\"open\">Open</string>\r\n    <string name=\"close\">Close</string>\r\n    <string name=\"text_na\">N/A</string>\r\n    <string name=\"text_new\">New</string>\r\n    <string name=\"rate_negative\">-%.2f</string>\r\n    <string name=\"rate_positive\">+%.2f</string>\r\n    <string name=\"rate_common\">$%.2f</string>\r\n\r\n    <!-- Send Email-->\r\n    <string name=\"intent_email_chooser_title\">Send Email…</string>\r\n    <string name=\"intent_email_chooser_not_found\">There are no email client installed on your device</string>\r\n\r\n    <!--Common Dialog-->\r\n    <string name=\"dialog_btn_yes\">Yes</string>\r\n    <string name=\"dialog_btn_no\">No</string>\r\n\r\n    <!--Home Bottom Menu-->\r\n    <string name=\"menu_feed_title\">Feed</string>\r\n    <string name=\"menu_search_title\">Search</string>\r\n    <string name=\"menu_profile_title\">Profile</string>\r\n    <string name=\"title_account\">Account</string>\r\n    <string name=\"title_my_profile\">My Profile</string>\r\n    <string name=\"title_receipts\">Receipts</string>\r\n    <string name=\"title_market\">Market</string>\r\n\r\n    <!--SignIn/SignUp-->\r\n    <string name=\"sign_in_text\">Sign In</string>\r\n    <string name=\"sign_up_text\">Sign Up</string>\r\n    <string name=\"forgot_password_text\"><u>Forgot Password?</u></string>\r\n    <string name=\"create_account_text\"><u>Create an Account</u></string>\r\n    <string name=\"dont_have_account_text\">Don’t have an account yet?</string>\r\n    <string name=\"password_info_text\">(Password must include at least 8 Characters, 1 Number, 1 Symbol (@, #, $, &amp;, !, etc), at least 1 Upper Case, and at least 1 Lower Case)</string>\r\n    <string name=\"already_have_account_text\">Already have an account?</string>\r\n    <string name=\"sign_in_underline_text\"><u>Sign In</u></string>\r\n    <string name=\"enter_valid_email_error_text\">Please enter valid Email</string>\r\n    <string name=\"enter_valid_password_error_text\">Please enter valid Password</string>\r\n    <string name=\"btn_next_text\">Next</string>\r\n    <string name=\"text_user_exists\">User already exists!</string>\r\n\r\n    <!--Edit Account Info-->\r\n    <string name=\"edit_account_info_title\">Edit Account Info</string>\r\n    <string name=\"profile_text\">Profile</string>\r\n    <string name=\"user_info_text\">User Info</string>\r\n    <string name=\"id_verification_text\">ID Verification</string>\r\n    <string name=\"ea_one_text\">1</string>\r\n    <string name=\"ea_two_text\">2</string>\r\n    <string name=\"ea_three_text\">3</string>\r\n    <string name=\"phone_no\">xxx-xxx-xxxx</string>\r\n\r\n    <!--OTP-->\r\n    <string name=\"otp_verification_text\">OTP Verification</string>\r\n    <string name=\"enter_otp_text\">Enter OTP sent to</string>\r\n    <string name=\"otp_not_received_text\">Didn’t receive message?</string>\r\n    <string name=\"otp_send_again_text\"><u>Send Again</u></string>\r\n    <string name=\"otp_phone_no_text\">+%s%s</string>\r\n\r\n    <!--Forgot Password-->\r\n    <string name=\"forgot_password_title_text\">Forgot Password</string>\r\n    <string name=\"forgot_password_enter_email_text\">Please enter the email address that is associated with your gthr account.</string>\r\n    <string name=\"password_reset_sent_text\">Password Reset Sent</string>\r\n    <string name=\"password_instructions_text\">You will receive reset instructions if there is an email associated with the provided email.</string>\r\n    <string name=\"reset_password_text\">Reset Password</string>\r\n    <string name=\"finish_text\">Finish</string>\r\n\r\n    <!--Camera Labels-->\r\n    <string name=\"take_a_pict\">Take a picture of the front of your ID</string>\r\n    <string name=\"secure\">Secure</string>\r\n    <string name=\"congratulat\"><![CDATA[Verified Buyers & Sellers]]></string>\r\n    <string name=\"take_back\">Take a picture of the back of your ID</string>\r\n    <string name=\"replae_front\">Replace picture of the front</string>\r\n    <string name=\"replace_back\">Replace picture of the back</string>\r\n    <string name=\"id_note\">A government ID helps us check that you’re really you. It also helps us keep secure, fight fraud, and more.</string>\r\n    <string name=\"id_verification\">ID Verification</string>\r\n    <string name=\"preview_note_front\">Place your ID in the frame with the front facing the camera</string>\r\n    <string name=\"preview_note_back\">Place your ID in the frame with the back facing the camera</string>\r\n    <string name=\"saved\">Saved</string>\r\n    <string name=\"change\">Changed</string>\r\n    <string name=\"error\">Error!</string>\r\n    <string name=\"permission_denied\">Permission to use device Camera denied! Cannot proceed ahead!</string>\r\n    <string name=\"not_exist\">Not exist :</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"ea_complete\">Complete</string>\r\n    <string name=\"skip_id_verification\">Skip</string>\r\n    <string name=\"retake\">Retake</string>\r\n    <string name=\"dialog_skip_verification_title\">Skip Verification</string>\r\n    <string name=\"dialog_skip_verification_subtitle\">ID verification is required to Buy/Sell. You can do this at a later time. Do you want to skip this step for now?</string>\r\n    <string name=\"dialog_skip_verification_yes\">Yes, skip</string>\r\n    <string name=\"dialog_skip_verification_no\">No</string>\r\n    <string name=\"complete\">Complete</string>\r\n\r\n\r\n    <!--public profile-->\r\n    <string name=\"display_name_info\">Username is limited to 24 characters and must contain only letters, numbers, periods, and underscores.</string>\r\n    <string name=\"display_name\">DISPLAY NAME*</string>\r\n    <string name=\"display_name_hint\">24 characters</string>\r\n    <string name=\"public_profile\">Public Profile</string>\r\n    <string name=\"bio_title\">BIO</string>\r\n    <string name=\"bio_hint_text\">150 characters</string>\r\n    <string name=\"edit_user_info\">Edit User Info</string>\r\n    <string name=\"display_name_error_msg\">Username contains illegal character.</string>\r\n\r\n    <!--Welcome-->\r\n    <string name=\"btn_welcome_text\">Welcome!</string>\r\n    <string name=\"secure_text\">Secure</string>\r\n    <string name=\"verified_buyers_text\">Verified Buyers &amp; Sellers</string>\r\n    <string name=\"discover_text\">Discover</string>\r\n    <string name=\"welcome_buy_and_sell_text\">Buy &amp; Sell from over 1,000,000 Cards &amp; Toys</string>\r\n    <string name=\"understand_text\">Understand</string>\r\n    <string name=\"track_value_of_text\">Track the value of your entire collection instantly</string>\r\n    <string name=\"please_enter\">Please enter the email address that is associated with your gthr account.</string>\r\n    <string name=\"email\">EMAIL</string>\r\n    <string name=\"finish\">Finish</string>\r\n    <string name=\"reset_instruction\">You will receive reset instructions if there is an email associated with the provided email.</string>\r\n    <string name=\"password_reset_sent\">Password Reset Sent</string>\r\n    <string name=\"welcome_screen_title\">Congratulations!</string>\r\n\r\n    <!--user info-->\r\n    <string name=\"birthday_name\">BIRTHDAY*</string>\r\n    <string name=\"personal_info_text\">Personal Info</string>\r\n    <string name=\"mm\">MM</string>\r\n    <string name=\"dd\">DD</string>\r\n    <string name=\"yyyy\">YYYY</string>\r\n    <string name=\"phone_number\">PHONE NUMBER*</string>\r\n    <string name=\"phone_no_info\"><![CDATA[An SMS may be sent to your phone. Message & data rates may apply.]]></string>\r\n    <string name=\"phone_no_hint\">xxx-xxx-xxxx</string>\r\n    <string name=\"agree_to\">Agree to </string>\r\n    <string name=\"terms_conditions\"><u><![CDATA[Terms & Conditions]]></u></string>\r\n    <string name=\"otp_verification\">OTP Verification</string>\r\n    <string name=\"first_name\">FIRST NAME*</string>\r\n    <string name=\"name\">Name</string>\r\n    <string name=\"last_name\">LAST NAME*</string>\r\n    <string name=\"birthday_info\">Users must be 18 or older to register.</string>\r\n    <string name=\"title_activity_maps\">Map</string>\r\n    <string name=\"resend_otp\">Resending OTP....</string>\r\n    <string name=\"sending_otp\">Sending OTP...</string>\r\n    <string name=\"sms_limit_exceed\">The SMS quota for the project has been exceeded</string>\r\n    <string name=\"varification_fails\">On verification faild</string>\r\n    <string name=\"verification_complere\">onVerification Completed</string>\r\n    <string name=\"invalid_request\">Invalid request</string>\r\n    <string name=\"otp_sent\">OTP Sent</string>\r\n    <string name=\"otp_verified\">OTP verified</string>\r\n    <string name=\"invalid_code\">Invalid code.</string>\r\n    <string name=\"sign_successfully\">Sign successfully</string>\r\n    <string name=\"auth_fail\">Authentication failed.</string>\r\n    <string name=\"register_successfully\">Registered successfully</string>\r\n    <string name=\"registration_failed\">Registration failed.</string>\r\n    <string name=\"birthday_error_text\">Users must be 18 or older to register.</string>\r\n    <string name=\"password_link_sent\">Password reset link sent on mail</string>\r\n    <string name=\"storage_permission\">Allow storage permission</string>\r\n    <string name=\"must_be_4_char\">Must be atleast 4 characters</string>\r\n    <string name=\"cannot_empty\">Can not be empty</string>\r\n    <string name=\"settings_permissing\">Allow permissions from settings</string>\r\n\r\n    <!--Permissions-->\r\n    <string name=\"permission_needed_text\">App needs Camera &amp; Storage permissions to capture photo</string>\r\n\r\n    <!--Settings-->\r\n    <string name=\"settings_text\">Settings</string>\r\n    <string name=\"btn_edit_account_info\">Edit Account Info</string>\r\n    <string name=\"btn_shipping_address\">Shipping Address</string>\r\n    <string name=\"btn_active_offers\">Active Offers</string>\r\n    <string name=\"btn_payout_info\">Payout Info</string>\r\n    <string name=\"btn_terms_and_conditions\">Terms &amp; Conditions</string>\r\n    <string name=\"btn_faq_and_help\">FAQ and help</string>\r\n    <string name=\"logout_text\">Log Out</string>\r\n    <string name=\"dialog_logout_title\">Logout</string>\r\n    <string name=\"dialog_logout_body\">Are you sure you want to logout?</string>\r\n    <string name=\"dialog_logout_pos_btn\">Logout</string>\r\n    <string name=\"dialog_logout_neg_btn\">Cancel</string>\r\n\r\n    <!--Edit Account Info-->\r\n    <string name=\"ea_birthday_name\">BIRTHDAY</string>\r\n    <string name=\"ea_personal_info_text\">Personal Info</string>\r\n    <string name=\"ea_mm\">MM</string>\r\n    <string name=\"ea_dd\">DD</string>\r\n    <string name=\"ea_yyyy\">YYYY</string>\r\n    <string name=\"ea_phone_number\">PHONE NUMBER</string>\r\n    <string name=\"ea_phone_no_hint\">xxx-xxx-xxxx</string>\r\n    <string name=\"ea_agree_to\">Agree to </string>\r\n    <string name=\"ea_terms_conditions\"><u><![CDATA[Terms & Conditions]]></u></string>\r\n    <string name=\"ea_otp_verification\">OTP Verification</string>\r\n    <string name=\"ea_first_name\">FIRST NAME</string>\r\n    <string name=\"ea_name\">Name</string>\r\n    <string name=\"ea_last_name\">LAST NAME</string>\r\n    <string name=\"ea_email\">Email</string>\r\n    <string name=\"ea_delete_account\"><u>Delete Account</u></string>\r\n    <string name=\"ea_save_changes\">Save Changes</string>\r\n    <string name=\"ea_birthday_info\">Users must be 18 or older</string>\r\n    <string name=\"edit_acc_name_error\">Enter first name</string>\r\n    <string name=\"edit_acc_last_error\">Enter last name</string>\r\n    <string name=\"edit_acc_phone_no_error\">Incomplete phone number</string>\r\n    <string name=\"edit_acc_empty_email_error\">Enter email</string>\r\n    <string name=\"edit_acc_email_error\">Enter valid email</string>\r\n    <string name=\"delete_acc_title_msg\">Type ‘Delete’ to Delete\\n Your Account</string>\r\n    <string name=\"acc_delete\">Delete</string>\r\n    <string name=\"edit_acc_birthday_error\">Users must be 18 or older.</string>\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"text_user_data_update_success\">User data updated successfully!</string>\r\n    <!--Add Address-->\r\n    <string name=\"address1\">ADDRESS 1</string>\r\n    <string name=\"address2\">ADDRESS 2</string>\r\n\r\n    <!--Settings Address-->\r\n    <string name=\"full_name_builder\">%s %s</string>\r\n    <string name=\"city_builder\">%s,</string>\r\n    <string name=\"state_pincode_builder\">%s %s</string>\r\n\r\n    <!--Edit Shipping Address-->\r\n    <string name=\"edit_shipping_address_text\">Edit Shipping Address</string>\r\n    <string name=\"add_new_address_text\">Add New Address</string>\r\n    <string name=\"dialog_msg_delete_address_note\">Are you sure you want to delete this address?</string>\r\n    <string name=\"dialog_btn_delete\">Delete</string>\r\n    <string name=\"dialog_btn_cancel\">Cancel</string>\r\n    <string name=\"dialog_title_confirm_delete\">Confirm Delete</string>\r\n\r\n    <!--Active Offers-->\r\n    <string name=\"active_offers_text\">Active Offers</string>\r\n\r\n    <!--Add New Address-->\r\n    <string name=\"country\">COUNTRY</string>\r\n    <string name=\"select_country\">Select Country</string>\r\n    <string name=\"select_states\">Select state/province</string>\r\n    <string name=\"state_province\">STATE/PROVINCE</string>\r\n    <string name=\"add_new_address\">Add New Address</string>\r\n    <string name=\"add_new_address_name_error\">Enter first name</string>\r\n    <string name=\"add_new_address_last_error\">Enter last name</string>\r\n    <string name=\"add_new_address_add1_error\">Enter add 1</string>\r\n    <string name=\"add_new_address_add12error\">Enter add 2</string>\r\n    <string name=\"add_new_address_city_error\">Enter city</string>\r\n    <string name=\"add_new_address_postal_code_error\">Enter postal code</string>\r\n    <string name=\"add_new_address_poastal_code_input_error\">Input postal code</string>\r\n    <string name=\"add_new_address_postal_code_title_error\">POSTAL CODE</string>\r\n    <string name=\"text_save_changes\">Save Changes</string>\r\n    <string name=\"hint_recipient_fname\">Recipient’s first name</string>\r\n    <string name=\"hint_recipient_lname\">Recipient’s last name</string>\r\n    <string name=\"address\">Add address</string>\r\n    <string name=\"hint_address2\">Apt/ Bldg/ Other</string>\r\n\r\n\r\n    <!--Custom Fello View-->\r\n    <string name=\"title_followers\">Followers</string>\r\n    <string name=\"title_following\">Following</string>\r\n    <string name=\"title_sold\">Sold</string>\r\n\r\n    <!--Custom Collection Charts View-->\r\n    <string name=\"title_market_value\">Market Value</string>\r\n    <string name=\"title_collection_size\">Collection Size</string>\r\n    <string name=\"title_average_price\">Average Price</string>\r\n    <string name=\"text_amount\">$1326.72</string>\r\n\r\n    <!--Collection Button-->\r\n    <string name=\"text_collection\">Collection</string>\r\n    <string name=\"text_favorites\">Favorites</string>\r\n    <string name=\"text_follow\">Follow</string>\r\n    <string name=\"text_following\">Following</string>\r\n\r\n    <!--Custom Delivery Button-->\r\n    <string name=\"text_pending\">Pending</string>\r\n    <string name=\"text_delivered\">Delivered</string>\r\n    <string name=\"text_transit\">Transit</string>\r\n    <string name=\"text_ask_placed\">Ask Placed</string>\r\n    <string name=\"text_ordered\">Ordered</string>\r\n\r\n    <!--Search -->\r\n    <string name=\"text_search\">Search</string>\r\n    <string name=\"text_for_sale\">For Sale</string>\r\n    <string name=\"text_collections\">Collections</string>\r\n    <string name=\"text_product\">Products</string>\r\n    <string name=\"text_most_fav\">Most Favorited</string>\r\n    <string name=\"text_most_followed\">Most Followed</string>\r\n    <string name=\"text_sorting\">Sorting</string>\r\n    <string name=\"text_filter_ask_lowest\">Ask: Lowest</string>\r\n    <string name=\"text_filter_ask_highest\">Ask: Highest</string>\r\n    <string name=\"text_filter_most_favorited\">Most Favorited</string>\r\n    <string name=\"text_filter_category\">Category</string>\r\n    <string name=\"text_filter_cards\">Cards</string>\r\n    <string name=\"text_filter_pokemon\">Pokemon</string>\r\n    <string name=\"text_filter_yu_gi_oh\">Yu-Gi-Oh</string>\r\n    <string name=\"text_filter_magic_the_gathering\">Magic: The Gathering</string>\r\n    <string name=\"text_filter_toys\">Toys</string>\r\n    <string name=\"text_filter_sealed\">Sealed</string>\r\n\r\n    <!--Follower/following search hint-->\r\n    <string name=\"hint_follower_search\">Search followers</string>\r\n    <string name=\"hint_following_search\">Search following</string>\r\n    <string name=\"hint_favourites_search\">Search favorites</string>\r\n    <string name=\"hint_sold_search\">Search sold items</string>\r\n\r\n    <!--Custom product type-->\r\n    <string name=\"text_funko\">Funko</string>\r\n    <string name=\"text_mythic\">Mythic</string>\r\n    <string name=\"text_sealed\">Sealed</string>\r\n    <string name=\"text_holo_rare\">Holo Rare</string>\r\n    <string name=\"text_secret_rare\">Secret Rare</string>\r\n    <string name=\"text_fore_sale\">For sale</string>\r\n    <string name=\"text_want\">Want</string>\r\n    <string name=\"text_offer\">Offer</string>\r\n    <string name=\"text_offer_price\">Offer Price</string>\r\n    <string name=\"text_market_price\">Lowest Ask</string>\r\n    <string name=\"text_buylist_price\">Buylist Price</string>\r\n    <string name=\"text_sale_price\">Sale Price</string>\r\n    <string name=\"text_sold\">Sold</string>\r\n    <string name=\"text_product_name\">Name:</string>\r\n    <string name=\"text_product_set\">Set:</string>\r\n    <string name=\"text_hash_colon\">#:</string>\r\n    <string name=\"text_price_value\">$%s</string>\r\n\r\n    <!--My profile-->\r\n    <string name=\"user_name\">---</string>\r\n    <string name=\"user_bio\">---</string>\r\n    <string name=\"lable_stats\">Stats</string>\r\n    <string name=\"lable_collection\">Collection</string>\r\n    <string name=\"hint_Search_collection\">Search the collection</string>\r\n    <string name=\"success_note\">Data updated successfully</string>\r\n\r\n    <!--Edit profile-->\r\n    <string name=\"title_edit_profile_info\">Edit Profile Info</string>\r\n    <string name=\"edit_profile_picture\">Edit Profile Picture</string>\r\n    <string name=\"text_display_name\">Display name</string>\r\n    <string name=\"info_display_name_edit_profile\">You may only change your Display Name Once per 30 days.</string>\r\n    <string name=\"choose_from_library\">Choose from Library</string>\r\n    <string name=\"dialog_take_photo\">Take Photo</string>\r\n    <string name=\"dialog_edit_profile_picture\">Edit Profile Picture</string>\r\n\r\n    <!--Active Offers-->\r\n    <string name=\"hint_Search_your_offers\">Search your offers</string>\r\n\r\n    <!--Purchase Detail-->\r\n    <string name=\"text_purchase_detail\">Purchase Details</string>\r\n    <string name=\"text_purchase_summary\">Purchase Summary</string>\r\n    <string name=\"text_purchase_detail_track_package\"><u>Track Package</u></string>\r\n    <string name=\"text_btn_purchase_detail_report_issue\">Report Issue</string>\r\n    <string name=\"text_btn_purchase_detail_confirm_received\">Confirm Received</string>\r\n    <string name=\"text_purchase_detail_seller\">Seller:</string>\r\n    <string name=\"text_purchase_detail_order_summary\">Order Summary</string>\r\n    <string name=\"text_purchase_detail_order_status\">Order Status</string>\r\n    <string name=\"text_purchase_detail_ordered_on\">Ordered on</string>\r\n    <string name=\"text_btn_purchase_detail_payment\">Payment</string>\r\n    <string name=\"text_purchase_detail_ship_to\">Ship to</string>\r\n    <string name=\"text_purchase_detail_order\">Order#</string>\r\n    <string name=\"text_purchase_sale_price\">Sale Price</string>\r\n    <string name=\"text_purchase_shipping\">Shipping</string>\r\n    <string name=\"text_purchase_sales_tax\">Sales Tax (%s%%  )</string>\r\n    <string name=\"dialog_confirm_received_title\">Confirm Received</string>\r\n    <string name=\"dialog_confirm_received_body\">Did you receive the item?</string>\r\n    <string name=\"dialog_confirm_shipped_title\">Confirm Shipped</string>\r\n    <string name=\"dialog_confirm_shipped_body\">Once the item, is shipped confirm yes, and the buyer will be notified.</string>\r\n    <string name=\"text_hash\">#</string>\r\n    <string name=\"text_product_rarity\">Rarity</string>\r\n    <string name=\"text_product_psa\">PSA</string>\r\n    <string name=\"text_product_conditon\">Cond.</string>\r\n    <string name=\"text_product_license\">License</string>\r\n\r\n    <!--Feed-->\r\n    <string name=\"btn_feed_all\">All</string>\r\n    <string name=\"btn_feed_cards\">Cards</string>\r\n    <string name=\"btn_feed_sealed\">Sealed</string>\r\n    <string name=\"btn_feed_funko\">Funko</string>\r\n    <string name=\"text_legal_product_detail\">LEGAL</string>\r\n    <string name=\"text_not_legal_product_detail\">Not LEGAL</string>\r\n\r\n    <!--Sold Detail-->\r\n    <string name=\"text_ask_summary\">Ask Summary</string>\r\n    <string name=\"text_payout\">Payout</string>\r\n    <string name=\"text_sold_details\">Sold Details</string>\r\n    <string name=\"text_sold_summary\">Sold Summary</string>\r\n    <string name=\"text_selling_fee\">Selling fee (%s%%)</string>\r\n    <string name=\"text_payment_processing\">Payment Processing (%s%%)</string>\r\n    <string name=\"text_shipping_reimbursement\">Shipping Reimbursement</string>\r\n\r\n    <!--Product Detail-->\r\n    <string name=\"text_legal_product_detail_mtg\">Legal</string>\r\n    <string name=\"text_not_legal_product_detail_mtg\">Not Legal</string>\r\n    <string name=\"menu_share\">Share</string>\r\n    <string name=\"menu_favorite\">Add to favorite</string>\r\n    <string name=\"text_product_details_recent_sales\">Recent Sales</string>\r\n    <string name=\"text_product_detail_see_all\">See All</string>\r\n    <string name=\"text_recent_sell_sale_price\">SALE PRICE</string>\r\n    <string name=\"text_recent_sell_date\">DATE</string>\r\n    <string name=\"text_recent_sell_customization\">CUSTOMIZATION</string>\r\n    <string name=\"text_btn_buy_product_detail\">Buy</string>\r\n    <string name=\"text_btn_own_product_detail\">Own</string>\r\n    <string name=\"text_btn_sell_product_detail\">Sell</string>\r\n    <string name=\"text_details_product_detail\">Details</string>\r\n    <string name=\"text_number_product_detail\">NUMBER</string>\r\n    <string name=\"text_type_product_detail\">TYPE</string>\r\n    <string name=\"text_related_product_detail\">Related</string>\r\n    <string name=\"text_set_product_details\">Set</string>\r\n    <string name=\"text_hash_product_details\">#</string>\r\n    <string name=\"text_rarity_product_details\">Rarity</string>\r\n    <string name=\"text_up_for_sale_product_details\">Up for sale</string>\r\n    <string name=\"text_hp_product_details\">HP</string>\r\n    <string name=\"text_stage_product_details\">STAGE</string>\r\n    <string name=\"text_jap_set_product_detail\">JAP SET</string>\r\n    <string name=\"text_jap_number_product_detail\">JAP NUMBER</string>\r\n    <string name=\"text_card_description_product_detail\">Card Description</string>\r\n    <string name=\"text_stats_product_details\">STATS</string>\r\n    <string name=\"text_license_product_detail\">License</string>\r\n    <string name=\"text_release_date_product_detail\">RELEASE DATE</string>\r\n    <string name=\"text_category_product_detail\">CATEGORY</string>\r\n    <string name=\"text_item_number_product_dtail\">ITEM NUMBER</string>\r\n    <string name=\"text_product_type_product_detail\">PRODUCT TYPE</string>\r\n    <string name=\"text_exclusivity_product_detail\">EXCLUSIVITY</string>\r\n    <string name=\"text_btn_collect_product_detail\">Collect</string>\r\n    <string name=\"text_standard_mtg_detail\">Standard</string>\r\n    <string name=\"text_brawl_mtg_detail\">Brawl</string>\r\n    <string name=\"text_pioneer_mtg_detail\">Pioneer</string>\r\n    <string name=\"text_historic_mtg_detail\">Historic</string>\r\n    <string name=\"text_modern_mtg_detail\">Modern</string>\r\n    <string name=\"text_pauper_mtg_detail\">Pauper</string>\r\n    <string name=\"text_legacy_mtg_detail\">Legacy</string>\r\n    <string name=\"text_penny_mtg_detail\">Penny</string>\r\n    <string name=\"text_commander_mtg_detail\">Commander</string>\r\n    <string name=\"text_vintage_mtg_detail\">Vintage</string>\r\n\r\n\r\n    <!--  Generic Error Mesage-->\r\n    <string name=\"required_field\">required</string>\r\n\r\n    <!-- market -->\r\n    <string name=\"text_popular_collections_market\">Popular Collections</string>\r\n    <string name=\"text_your_favorite_binders_market\">Your Favorite Binders</string>\r\n    <string name=\"text_lowest_ask_market\">Lowest Ask</string>\r\n    <string name=\"text_highest_ask_market\">Highest Ask</string>\r\n\r\n    <!-- feed -->\r\n    <string name=\"text_feed_new_to_collection\">New To Collection</string>\r\n    <string name=\"text_feed_new_ask\">New Ask</string>\r\n    <string name=\"text_feed_new_to_buy_list\">New To Buylist</string>\r\n    <string name=\"text_feed_license\">License</string>\r\n    <string name=\"text_feed_hash\">#</string>\r\n    <string name=\"text_buy_now_feed\">Buy Now</string>\r\n\r\n    <!--Ask flow-->\r\n    <string name=\"text_place_an_ask\">Place an Ask</string>\r\n    <string name=\"text_add_to_buylist\">Add to Buylist</string>\r\n    <string name=\"text_add_to_collection\">Add to Collection</string>\r\n    <string name=\"text_ask_details\">Ask Details</string>\r\n    <string name=\"text_buylist_details\">Buylist Details</string>\r\n    <string name=\"label_config_card\">Configure Your Card</string>\r\n    <string name=\"label_add_pic\">Add pictures</string>\r\n    <string name=\"condition\">Condition</string>\r\n    <string name=\"language\">Language</string>\r\n    <string name=\"raw\">Raw</string>\r\n    <string name=\"psa\">PSA</string>\r\n    <string name=\"bgs\">BGS</string>\r\n    <string name=\"cgc\">CGC</string>\r\n    <string name=\"text_new_condition\">New</string>\r\n    <string name=\"text_total_usd\">Total (USD)</string>\r\n    <string name=\"text_total_payout_usd\">Total Payout (USD)</string>\r\n\r\n    <string name=\"bl_bgs\">BL BGS 10</string>\r\n    <string name=\"bgs_9\">BGS 9.5</string>\r\n    <string name=\"chinese\">Chinese (T)</string>\r\n    <string name=\"french\">French</string>\r\n    <string name=\"english\">English</string>\r\n    <string name=\"cheneses\">Chinese (S)</string>\r\n    <string name=\"edition\">Edition</string>\r\n    <string name=\"foil\">Foil</string>\r\n    <string name=\"first_edition\">1st Edition</string>\r\n    <string name=\"rev_holo\">Rev. Holo</string>\r\n    <string name=\"asdasd\">asdasd</string>\r\n\r\n    <string name=\"note_f_camera\">Take a picture of the front</string>\r\n    <string name=\"note_b_camera\">Take a picture of the back</string>\r\n    <string name=\"front_image\">Front Image</string>\r\n    <string name=\"back_image\">Back Image</string>\r\n\r\n    <string name=\"skip_picture\">Skip Pictures</string>\r\n    <string name=\"ask_sell\">Ask/Sell</string>\r\n    <string name=\"do_you_want_to_sell\">Do You Want To Sell?</string>\r\n    <string name=\"add_pictures\">Add Pictures</string>\r\n    <string name=\"text_type_ask_here_ask_flow\">Type Ask Here</string>\r\n    <string name=\"text_selling_fee_8_5_ask_flow\">Selling Fee (8.5%)</string>\r\n    <string name=\"text_payment_processing_2_9_ask_flow\">Payment Processing (2.9%)</string>\r\n    <string name=\"text_shipping_reimbursement_ask_flow\">Shipping Reimbursement</string>\r\n    <string name=\"text_promo_code_ask_flow\">Promo Code</string>\r\n    <string name=\"text_place_your_ask_flow\">Place your Ask</string>\r\n    <string name=\"text_add_ask_flow\">+ Add</string>\r\n    <string name=\"text_address_ask_type\">Address</string>\r\n    <string name=\"text_payout_ask_type\">Payout</string>\r\n    <string name=\"text_place_your_ask\">Place your Ask</string>\r\n\r\n    <string name=\"menu_info\">Info</string>\r\n    <string name=\"menu_delete\">Delete</string>\r\n    <string name=\"back_label\">Back</string>\r\n    <string name=\"front_lalel\">Front</string>\r\n    <string name=\"text_total_excludes_tax_shipping_buy_flow\"><![CDATA[Total (Excludes Tax & Shipping)]]></string>\r\n    <string name=\"text_add_to_buylist_ask_flow\">Add To Buylist</string>\r\n    <string name=\"text_review_your_ask_flow\">Review your Ask</string>\r\n    <string name=\"text_review\">Review</string>\r\n    <string name=\"text_sales_tax\">Sales Tax</string>\r\n    <string name=\"text_price\">Price</string>\r\n    <string name=\"text_accept\">Accept</string>\r\n    <string name=\"text_summary_buy_flow\">Summary</string>\r\n    <string name=\"text_added_buy_flow\">Added</string>\r\n    <string name=\"text_finish_buy_flow\">Finish</string>\r\n    <string name=\"text_type_buylist_price_here_buy_flow\">Type Buylist Price Here</string>\r\n    <string name=\"text_desh_product_detail\">-</string>\r\n\r\n    // Stripe Account Auth\r\n    <string name=\"stripe_account_create_success\">Stripe Account created successfully</string>\r\n    <string name=\"stripe_acc_creating_msg\">Please click on \\'Payout\\' and create Stripe Account before proceeding</string>\r\n    <string name=\"text_af_payment\">Payment</string>\r\n    <string name=\"pay_btn_text\">Click to Pay</string>\r\n    <string name=\"cancel\">Cancel</string>\r\n\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/res/values/strings.xml	(date 1633030829768)
@@ -511,6 +511,7 @@
     <string name="text_af_payment">Payment</string>
     <string name="pay_btn_text">Click to Pay</string>
     <string name="cancel">Cancel</string>
+    <string name="term_condition_note">Please agree TnC!</string>
 
 
 </resources>
\ No newline at end of file
Index: app/src/main/java/com/gthr/gthrcollect/utils/helper/OrderStatusHelper.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/utils/helper/OrderStatusHelper.kt b/app/src/main/java/com/gthr/gthrcollect/utils/helper/OrderStatusHelper.kt
new file mode 100644
--- /dev/null	(date 1633030829767)
+++ b/app/src/main/java/com/gthr/gthrcollect/utils/helper/OrderStatusHelper.kt	(date 1633030829767)
@@ -0,0 +1,18 @@
+package com.gthr.gthrcollect.utils.helper
+
+import com.gthr.gthrcollect.model.domain.ProductDisplayModel
+import com.gthr.gthrcollect.utils.customviews.CustomDeliveryButton
+import com.gthr.gthrcollect.utils.enums.ProductCategory
+
+
+fun getOrderStatusFromRaw(status: String): CustomDeliveryButton.OrderStatus {
+
+    return when (status) {
+
+        "pending" -> CustomDeliveryButton.OrderStatus.PENDING
+
+        "ordered" -> CustomDeliveryButton.OrderStatus.ORDERED
+
+        else -> CustomDeliveryButton.OrderStatus.DELIVERED
+    }
+}
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/activity_ask_flow.xml\" value=\"0.20833333333333334\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/activity_edit_account_info.xml\" value=\"0.13712737127371274\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/af_buy_directly_review_fragment.xml\" value=\"0.20833333333333334\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/af_buylist_details_fragment.xml\" value=\"0.17543859649122806\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/af_place_your_ask_fragment.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/af_review_your_ask_fragment.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/ea_id_verification_fragment.xml\" value=\"0.16799999999999998\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/ea_profile_fragment.xml\" value=\"0.20394736842105263\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/image_preview.xml\" value=\"0.14479166666666668\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/layout_custom_product_cell.xml\" value=\"0.17543859649122806\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/layout_ea_section_selection.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Documents/Android Projects/GthrCollect/app/src/main/res/layout/market_fragment.xml\" value=\"0.16798245614035087\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/drawable/bg_btn_price_blue.xml\" value=\"0.24739583333333334\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/drawable/bg_btn_secondary_blue.xml\" value=\"0.24739583333333334\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/drawable/bg_custum_legality_blue.xml\" value=\"0.24739583333333334\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/drawable/bg_custum_legality_white.xml\" value=\"0.24739583333333334\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/activity_ask_flow.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/activity_product_detail.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/activity_profile.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/activity_settings.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_add_pic_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_buy_directly_review_fragment.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_buy_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_buylist_details_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_card_condition_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_card_edition_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_card_language_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_place_your_ask_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/af_review_your_ask_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/card_profile_header.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/ea_otp_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/fav_sold_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/follow_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/fragment_af_buy.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/item_receipt.xml\" value=\"0.6\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/item_recent_sele.xml\" value=\"0.49149922720247297\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/item_recent_sele_herder.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_custom_collection_charts.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_custom_product_cell.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_product_detail_card_top.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_product_detail_main_details.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_product_detail_mtg_detail.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_product_detail_toy_top.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/layout_progress_bar.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/my_profile.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/password_reset.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/product_detail_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/purchase_details_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/receipts_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/recent_sell_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/search_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/up_for_sell_fragment.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/gthrAndroid/app/src/main/res/layout/activity_product_detail.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/gthrAndroid/app/src/main/res/layout/purchase_details_fragment.xml\" value=\"0.20416666666666666\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/.idea/misc.xml	(date 1633030829762)
@@ -55,8 +55,14 @@
         <entry key="..\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/recent_sell_fragment.xml" value="0.23125" />
         <entry key="..\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/search_fragment.xml" value="0.23125" />
         <entry key="..\:/NeoSoft/Code/gthrAndroid/app/src/main/res/layout/up_for_sell_fragment.xml" value="0.23125" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/activity_ask_flow.xml" value="0.1" />
         <entry key="..\:/gthrAndroid/app/src/main/res/layout/activity_product_detail.xml" value="0.20416666666666666" />
-        <entry key="..\:/gthrAndroid/app/src/main/res/layout/purchase_details_fragment.xml" value="0.20416666666666666" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/activity_receipt_detail.xml" value="0.20416666666666666" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/af_buy_directly_review_fragment.xml" value="0.5" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/af_buying_directly_place_fragment.xml" value="0.33" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/layout_progress_bar.xml" value="0.20416666666666666" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/product_detail_fragment.xml" value="0.20416666666666666" />
+        <entry key="..\:/gthrAndroid/app/src/main/res/layout/purchase_details_fragment.xml" value="0.4083333333333333" />
       </map>
     </option>
   </component>
Index: app/src/main/java/com/gthr/gthrcollect/model/mapper/CloudFunToDomain.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.gthr.gthrcollect.model.mapper\r\n\r\nimport com.gthr.gthrcollect.model.domain.ForSaleItemDomainModel\r\nimport com.gthr.gthrcollect.model.domain.ReceiptDomainModel\r\nimport com.gthr.gthrcollect.model.domain.SearchBidsDomainModel\r\nimport com.gthr.gthrcollect.model.domain.SearchProductDomainModel\r\nimport com.gthr.gthrcollect.model.network.cloudfunction.ForSaleItemModel\r\nimport com.gthr.gthrcollect.model.network.cloudfunction.SearchBidsModel\r\nimport com.gthr.gthrcollect.model.network.cloudfunction.SearchProductModel\r\nimport com.gthr.gthrcollect.model.network.firebaserealtimedb.ReceiptModel\r\nimport com.gthr.gthrcollect.utils.getProductCategoryFromRaw\r\nimport com.gthr.gthrcollect.utils.getProductType\r\nimport com.gthr.gthrcollect.utils.helper.getEditionTypeFromRowType\r\n\r\nfun SearchProductModel.toSearchProductDomainModel() =\r\n    SearchProductDomainModel(\r\n        title = title,\r\n        productType = getProductType(productType!!),\r\n        objectID = objectID,\r\n        numberOfFavorites = numberOfFavorites,\r\n\r\n    )\r\nfun ForSaleItemModel.toDomainModel()=ForSaleItemDomainModel(\r\n        creatorProfileURL = creatorProfileURL,\r\n        productProductName = productProductName,\r\n        edition = edition,\r\n        productFirebaseRef = productFirebaseRef,\r\n        language = language?.toLanguageDomainModel(),\r\n        collectionFirebaseRef = collectionFirebaseRef,\r\n        productCategory = getProductCategoryFromRaw(productCategory.toString()),\r\n        collectionId = collectionId,\r\n        createdAt = createdAt,\r\n        collectionUserRefKey = collectionUserRefKey,\r\n        itemObjectID = itemObjectID,\r\n        itemRefKey = itemRefKey,\r\n        price = price,\r\n        productId = productId,\r\n        askRefKey = askRefKey,\r\n  productProductNumber = productProductNumber,\r\n  id = id,\r\n  productGroup=productGroup,\r\n  backImageURL=backImageURL,\r\n  productType=getProductType(productType.toString()),\r\n        updatedAt = updatedAt,\r\n        productFirImageURL = productFirImageURL,\r\n        productRefId = productRefId,\r\n        collectionRefId = collectionRefId,\r\n        productNumberOfFavorites = productNumberOfFavorites,\r\n        collectionCollectionDisplayName = collectionCollectionDisplayName,\r\n        productRarity = productRarity,\r\n        collectionProfileImageURL = collectionProfileImageURL,\r\n        productProdObjectID = productProdObjectID,\r\n        creatorUID = creatorUID,\r\n        condition = condition?.toConditionDomainModel(),\r\n        frontImageURL = frontImageURL,\r\n        firebaseRef = firebaseRef,\r\n        collectionCollectionRawName = collectionCollectionRawName\r\n)\r\n\r\nfun SearchBidsModel.toSearchBidsDomainModel() = SearchBidsDomainModel(\r\n    bidPrice = bidPrice,\r\n    bidRefKey = bidRefKey,\r\n    collectionRefId = collectionRefId,\r\n    collection_collectionDisplayName = collection_collectionDisplayName,\r\n    collection_collectionRawName = collection_collectionRawName,\r\n    collection_firebaseRef = collection_firebaseRef,\r\n    collection_id = collection_id,\r\n    collection_profileImageURL = collection_profileImageURL,\r\n    collection_userRefKey = collection_userRefKey,\r\n    condition = condition?.toConditionDomainModel(),\r\n    createdAt = createdAt,\r\n    creatorUID = creatorUID,\r\n    edition = edition?.let { getEditionTypeFromRowType(it) },\r\n    firebaseRef = firebaseRef,\r\n    id = id,\r\n    itemObjectID = itemObjectID,\r\n    itemRefKey = itemRefKey,\r\n    language = language?.toLanguageDomainModel(),\r\n    productCategory = getProductCategoryFromRaw(productCategory.toString()),\r\n    productRefId = productRefId,\r\n    productType = getProductType(productType.toString()),\r\n    product_firImageURL = product_firImageURL,\r\n    product_firebaseRef = product_firebaseRef,\r\n    product_group = product_group,\r\n    product_id = product_id,\r\n    product_numberOfFavorites = product_numberOfFavorites,\r\n    product_prodObjectID = product_prodObjectID,\r\n    product_productName = product_productName,\r\n    product_productNumber = product_productNumber,\r\n    product_rarity = product_rarity,\r\n    updatedAt = updatedAt,\r\n)\r\n\r\nfun ReceiptModel.toReceiptDomainModel() =\r\n    ReceiptDomainModel(\r\n        date = date,\r\n        appFee = appFee,\r\n        objectID = objectID,\r\n        shippingTierKey = shippingTierKey,\r\n        buyerCharge = buyerCharge,\r\n        edition = edition,\r\n        buyerShippingState = buyerShippingState,\r\n        buyerShippingCity = buyerShippingCity,\r\n        itemRefKey = itemRefKey,\r\n        sellerUID = sellerUID,\r\n        sellerPayout = sellerPayout,\r\n        trackingNumber = trackingNumber,\r\n        lang = lang?.toInt(),\r\n        sellerShippingAddressLine1 = sellerShippingAddressLine1,\r\n        sellerShippingCity = sellerShippingCity,\r\n        sellerShippingAddressLine2 = sellerShippingAddressLine2,\r\n        trackingLink = trackingLink,\r\n        productType = getProductType(productType!!),\r\n        sellerShippingZipCode = sellerShippingZipCode,\r\n        buyerShippingAddressLine2 = buyerShippingAddressLine2,\r\n        buyerShippingAddressLine1 = buyerShippingAddressLine1,\r\n        buyerShippingCountry = buyerShippingCountry,\r\n        buyerShippingName = buyerShippingName,\r\n        buyerShippingZipCode = buyerShippingZipCode,\r\n        saleID = saleID,\r\n        sellerShippingCountry = sellerShippingCountry,\r\n        sellerShippingName = sellerShippingName,\r\n        condition = condition,\r\n        buyerUID = buyerUID,\r\n        paymentID = paymentID,\r\n        sellerShippingState = sellerShippingState\r\n\r\n        )
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/gthr/gthrcollect/model/mapper/CloudFunToDomain.kt b/app/src/main/java/com/gthr/gthrcollect/model/mapper/CloudFunToDomain.kt
--- a/app/src/main/java/com/gthr/gthrcollect/model/mapper/CloudFunToDomain.kt	(revision 9ae6542c3d735a8c7da5fb50291d3c2edcc94e24)
+++ b/app/src/main/java/com/gthr/gthrcollect/model/mapper/CloudFunToDomain.kt	(date 1633030829764)
@@ -94,9 +94,9 @@
 fun ReceiptModel.toReceiptDomainModel() =
     ReceiptDomainModel(
         date = date,
-        appFee = appFee,
+        appFee = appFee.toString(),
         objectID = objectID,
-        shippingTierKey = shippingTierKey,
+        shippingTierKey = shippingTierKey.toString(),
         buyerCharge = buyerCharge,
         edition = edition,
         buyerShippingState = buyerShippingState,
@@ -110,7 +110,7 @@
         sellerShippingCity = sellerShippingCity,
         sellerShippingAddressLine2 = sellerShippingAddressLine2,
         trackingLink = trackingLink,
-        productType = getProductType(productType!!),
+        productType = getProductType(productType.toString()),
         sellerShippingZipCode = sellerShippingZipCode,
         buyerShippingAddressLine2 = buyerShippingAddressLine2,
         buyerShippingAddressLine1 = buyerShippingAddressLine1,
